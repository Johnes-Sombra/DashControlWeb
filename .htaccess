# Remover as regras de redirecionamento .html para .php pois não são mais necessárias
RewriteEngine On

# Redirecionar / para login.php se não estiver autenticado
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^$ /login.php [L,R=301]

# Regras para o funcionamento do sistema
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]

# Proteger arquivos sensíveis
<FilesMatch "^\.(htaccess|htpasswd|ini|log|sh|inc|bak|env)$">
Order Allow,Deny
Deny from all
</FilesMatch>

# Desabilitar listagem de diretórios
Options -Indexes